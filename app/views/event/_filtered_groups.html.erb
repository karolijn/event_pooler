<%  @groups.closest_to_user(current_user).visible.reject{|g| g.users.include?(current_user)}.each do |group| %>
  <%= render :partial => 'group', :locals => {:group => group} %>
<% end unless @groups.blank? || !current_user %>